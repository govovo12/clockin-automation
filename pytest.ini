# pytest.ini
# ---------------- 標記範例 ----------------
# pytestmark = [pytest.mark.unit,pytest.mark.tools, pytest.mark.loader]

[pytest]
testpaths = workspace/tests
pythonpath = .

# 測試檔案規則（顯式列出，避免混淆）
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 覆蓋率選項 (只有開啟 --cov 時才會生效)
addopts =
    --cov-report=term
    --cov-report=term-missing

# 標記 (markers)
markers =
    # ------------- 1. 層級區 (測試金字塔) -------------
    unit: 單元測試
    integration: 整合測試
    e2e: 端對端測試

    # ------------- 2. 類別區 (依模組類別) -------------
    tools: 工具模組測試
    task: 任務模組測試
    controller: 控制器模組測試

    # ------------- 3. 功能區 (依功能分類) -------------
    printer: 錯誤印出工具相關測試
    loader: 環境變數/配置載入相關測試
    time:時間轉換工具相關測試
    holiday:假日判斷模組相關測試